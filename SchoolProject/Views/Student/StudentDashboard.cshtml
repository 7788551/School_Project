@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Views/Shared/StudentLayout.cshtml";
}

<!-- Main Content -->
<div class="main-content" id="mainContent">
    <!-- Top Header -->
    <header class="top-header d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
            <button class="btn btn-outline-secondary me-3" id="toggleSidebar">
                <i class="fas fa-bars"></i>
            </button>

            <div class="search-box">
                <div class="input-group">
                    <span class="input-group-text bg-light border-0">
                        <i class="fas fa-search"></i>
                    </span>
                    <input type="text" class="form-control border-0 bg-light" placeholder="Search for courses, assignments...">
                </div>
            </div>
        </div>

        <div class="d-flex align-items-center">
            <button class="btn btn-outline-secondary me-3" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>

            <div class="dropdown me-3">
                <button class="btn btn-outline-secondary position-relative" type="button" id="notificationDropdown" data-bs-toggle="dropdown">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <div class="dropdown-menu dropdown-menu-end p-3" style="width: 300px;">
                    <h6 class="dropdown-header">Notifications (3)</h6>
                    <div class="notification-list">
                        <div class="d-flex py-2 border-bottom">
                            <div class="flex-shrink-0">
                                <i class="fas fa-exclamation-circle text-warning"></i>
                            </div>
                            <div class="flex-grow-1 ms-3">
                                <p class="mb-1">Math assignment due tomorrow</p>
                                <small class="text-muted">2 hours ago</small>
                            </div>
                        </div>
                        <div class="d-flex py-2 border-bottom">
                            <div class="flex-shrink-0">
                                <i class="fas fa-check-circle text-success"></i>
                            </div>
                            <div class="flex-grow-1 ms-3">
                                <p class="mb-1">Physics test graded</p>
                                <small class="text-muted">1 day ago</small>
                            </div>
                        </div>
                        <div class="d-flex py-2">
                            <div class="flex-shrink-0">
                                <i class="fas fa-calendar-alt text-primary"></i>
                            </div>
                            <div class="flex-grow-1 ms-3">
                                <p class="mb-1">Parent-teacher meeting scheduled</p>
                                <small class="text-muted">2 days ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dropdown user-dropdown">
                <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User" class="rounded-circle me-2">
                    <div class="d-none d-md-block">
                        <h6 class="mb-0">John Student</h6>
                        <small class="text-muted">Student</small>
                    </div>
                </a>
                <div class="dropdown-menu dropdown-menu-end">
                    <a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profile</a>
                    <a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i>Logout</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Content -->
    <div class="container-fluid p-4">
        <!-- Welcome Section -->
        <div class="row mb-4 fade-in">
            <div class="col-md-8">
                <div class="dashboard-card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-8">
                                <h2 class="mb-2">Welcome back, John!</h2>
                                <p class="text-muted">Here's what's happening with your education today.</p>
                                <div class="row mt-4">
                                    <div class="col-6 col-md-3 mb-3">
                                        <div class="text-center">
                                            <h4 class="text-primary">4</h4>
                                            <small>Today's Classes</small>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3 mb-3">
                                        <div class="text-center">
                                            <h4 class="text-success">92%</h4>
                                            <small>Attendance</small>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3 mb-3">
                                        <div class="text-center">
                                            <h4 class="text-warning">3</h4>
                                            <small>Pending Assignments</small>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3 mb-3">
                                        <div class="text-center">
                                            <h4 class="text-info">15</h4>
                                            <small>Days to Finals</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 d-flex align-items-center justify-content-center">
                                <div class="progress-circle">
                                    <canvas id="overallProgress" width="120" height="120"></canvas>
                                    <div class="progress-value">85%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-graduation-cap"></i>
                    <h3>GPA: 3.8</h3>
                    <p>Current Semester</p>
                    <div class="d-flex align-items-center">
                        <span class="me-2"><i class="fas fa-arrow-up"></i> 0.2 from last term</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Row -->
        <div class="row mb-4 fade-in">
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="text-muted">Total Courses</h6>
                                <h3>8</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-book-open text-primary fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="text-muted">Assignments Due</h6>
                                <h3>5</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-tasks text-warning fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="text-muted">Classes This Week</h6>
                                <h3>18</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-calendar text-success fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="text-muted">Upcoming Exams</h6>
                                <h3>3</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-file-alt text-danger fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts and Schedule -->
        <div class="row mb-4 fade-in">
            <div class="col-lg-8">
                <div class="dashboard-card">
                    <div class="card-header">
                        <h5 class="mb-0">Performance Overview</h5>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="dashboard-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Today's Schedule</h5>
                        <a href="#" class="btn btn-sm btn-outline-primary">View All</a>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush">
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">Mathematics</h6>
                                    <small class="text-muted">9:00 AM - 10:30 AM</small>
                                </div>
                                <span class="badge bg-primary">Room 204</span>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">Physics</h6>
                                    <small class="text-muted">11:00 AM - 12:30 PM</small>
                                </div>
                                <span class="badge bg-primary">Lab 3</span>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">English Literature</h6>
                                    <small class="text-muted">1:30 PM - 3:00 PM</small>
                                </div>
                                <span class="badge bg-primary">Room 112</span>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">Computer Science</h6>
                                    <small class="text-muted">3:30 PM - 5:00 PM</small>
                                </div>
                                <span class="badge bg-primary">Lab 1</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Assignments and Attendance -->
        <div class="row fade-in">
            <div class="col-lg-6">
                <div class="dashboard-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Recent Assignments</h5>
                        <a href="#" class="btn btn-sm btn-outline-primary">View All</a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Subject</th>
                                        <th>Assignment</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Mathematics</td>
                                        <td>Calculus Problems</td>
                                        <td>Tomorrow</td>
                                        <td><span class="badge bg-warning">Pending</span></td>
                                    </tr>
                                    <tr>
                                        <td>Physics</td>
                                        <td>Lab Report</td>
                                        <td>Oct 15</td>
                                        <td><span class="badge bg-warning">Pending</span></td>
                                    </tr>
                                    <tr>
                                        <td>English</td>
                                        <td>Essay Writing</td>
                                        <td>Oct 18</td>
                                        <td><span class="badge bg-success">Submitted</span></td>
                                    </tr>
                                    <tr>
                                        <td>Computer Science</td>
                                        <td>Python Project</td>
                                        <td>Oct 20</td>
                                        <td><span class="badge bg-warning">In Progress</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="dashboard-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Attendance This Month</h5>
                        <div class="text-muted">Present: 22/24 days</div>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-4">
                            <div class="progress-circle mb-3">
                                <canvas id="attendanceProgress" width="120" height="120"></canvas>
                                <div class="progress-value">92%</div>
                            </div>
                            <p>Overall Attendance Rate</p>
                        </div>
                        <div class="text-center">
                            <h6 class="mb-3">October 2023</h6>
                            <div>
                                <span class="attendance-day present">1</span>
                                <span class="attendance-day present">2</span>
                                <span class="attendance-day present">3</span>
                                <span class="attendance-day present">4</span>
                                <span class="attendance-day present">5</span>
                                <span class="attendance-day holiday">6</span>
                                <span class="attendance-day holiday">7</span>
                                <br>
                                <span class="attendance-day present">8</span>
                                <span class="attendance-day present">9</span>
                                <span class="attendance-day absent">10</span>
                                <span class="attendance-day present">11</span>
                                <span class="attendance-day present">12</span>
                                <span class="attendance-day present">13</span>
                                <span class="attendance-day holiday">14</span>
                                <br>
                                <span class="attendance-day holiday">15</span>
                                <span class="attendance-day present">16</span>
                                <span class="attendance-day present">17</span>
                                <span class="attendance-day present">18</span>
                                <span class="attendance-day present">19</span>
                                <span class="attendance-day present">20</span>
                                <span class="attendance-day holiday">21</span>
                                <br>
                                <span class="attendance-day present">22</span>
                                <span class="attendance-day present">23</span>
                                <span class="attendance-day present">24</span>
                                <span class="attendance-day present">25</span>
                                <span class="attendance-day present">26</span>
                                <span class="attendance-day present">27</span>
                                <span class="attendance-day holiday">28</span>
                            </div>
                            <div class="mt-3">
                                <span class="me-3"><span class="attendance-day present me-1"></span> Present</span>
                                <span class="me-3"><span class="attendance-day absent me-1"></span> Absent</span>
                                <span><span class="attendance-day holiday me-1"></span> Holiday/Weekend</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>